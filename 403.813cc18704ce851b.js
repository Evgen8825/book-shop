"use strict";(self.webpackChunkbook_shop=self.webpackChunkbook_shop||[]).push([[403],{2403:(N,d,e)=>{e.r(d),e.d(d,{BooksByCategoryModule:()=>I,routes:()=>B});var c=e(6895),l=e(5142),f=e(5369),v=e(5601),h=e(2985),_=e(8521),p=e(5319),m=e(1917),y=e(3059),x=e(9886),b=e(8276),k=e(9791),C=e(8161),u=e(433),Z=e(4004),o=e(4650),T=e(639),O=e(8663),M=e(2210);function A(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"a",4),o.NdJ("click",function(){o.CHM(t);const s=o.oxw();return o.KtG(s.reset())}),o._uU(1," \u0413\u043b\u0430\u0432\u043d\u0430\u044f "),o.qZA()}}function J(n,r){if(1&n&&(o.TgZ(0,"a"),o._uU(1),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(o.lcZ(2,1,t.category$))}}function U(n,r){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",7)(2,"div",8),o.NdJ("click",function(){const a=o.CHM(t).$implicit,g=o.oxw(2);return o.KtG(g.showBook(a))}),o._UZ(3,"img",9),o.TgZ(4,"div",10),o._UZ(5,"tui-money",11),o.TgZ(6,"div"),o._uU(7),o.qZA(),o.TgZ(8,"div",12),o._uU(9),o.qZA()()(),o.TgZ(10,"div",13),o._UZ(11,"tui-rating",14),o.TgZ(12,"button",15),o.NdJ("click",function(){const a=o.CHM(t).$implicit,g=o.oxw(2);return o.KtG(g.selectBook(a))}),o._uU(13," \u041a\u0443\u043f\u0438\u0442\u044c "),o.qZA()()(),o.BQk()}if(2&n){const t=r.$implicit,i=o.oxw(2);o.xp6(3),o.Q6J("src",t.img,o.LSH),o.xp6(2),o.Q6J("value",t.price),o.xp6(2),o.Oqu(t.title),o.xp6(2),o.Oqu(t.author),o.xp6(2),o.Udp("color","var(--tui-accent)"),o.Q6J("readOnly",!0)("iconNormal",i.screenWidth>480?"tuiIconStarLarge":"tuiIconStar")("iconFilled",i.screenWidth>480?"tuiIconStarLarge":"tuiIconStar")("ngModel",t.rating),o.xp6(1),o.Q6J("shape",null)("size",i.screenWidth>480?"l":"s")}}function F(n,r){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,U,14,12,"ng-container",6),o.qZA()),2&n){const t=r.ngIf;o.xp6(1),o.Q6J("ngForOf",t)}}const B=[{path:"",component:(()=>{class n{constructor(t,i,s){this.booksService=t,this.shopCartService=i,this.router=s,this.screenWidth=0}onResize(){this.screenWidth=window.innerWidth}ngOnInit(){this.screenWidth=window.innerWidth,this.booksByCategory$=this.booksService.getBooksByCategory$(),this.category$=this.booksByCategory$.pipe((0,Z.U)(t=>t[0].category))}selectBook(t){this.shopCartService.addBook(t)}showBook(t){this.booksService.setBook(t),this.router.navigate(["book"])}reset(){this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(T.y),o.Y36(O.q),o.Y36(l.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["book-list"]],hostBindings:function(t,i){1&t&&o.NdJ("resize",function(a){return i.onResize(a)},!1,o.Jf7)},decls:9,vars:10,consts:[[1,"wrapper"],["tuiLink","",3,"click",4,"tuiItem"],[4,"tuiItem"],["class","books-wrapper",4,"ngIf"],["tuiLink","",3,"click"],[1,"books-wrapper"],[4,"ngFor","ngForOf"],[1,"book-item"],[3,"click"],[1,"book-image",3,"src"],[1,"book-info"],["currency","RUB","decimal","not-zero",3,"value"],[1,"book-author"],[1,"book-buttons"],[3,"readOnly","iconNormal","iconFilled","ngModel"],["tuiButton","","type","button","appearance","primary",1,"buy-button",3,"shape","size","click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"tui-breadcrumbs"),o.YNc(2,A,2,0,"a",1),o.YNc(3,J,3,3,"a",2),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.YNc(7,F,2,1,"div",3),o.ALo(8,"async"),o.qZA()),2&t&&(o.xp6(1),o.Tol(i.screenWidth>480?"tui-space_bottom-4":"tui-space_bottom-1"),o.xp6(3),o.Tol(i.screenWidth>480?"tui-text_h6 tui-space_bottom-4":"tui-text_h6 tui-space_bottom-1"),o.xp6(1),o.Oqu(o.lcZ(6,6,i.category$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(8,8,i.booksByCategory$)))},dependencies:[c.sg,c.O5,M.w,y.v0,C.o3,u.JJ,u.On,p.xd,m.lZ,k.V,c.Ov],styles:[".wrapper[_ngcontent-%COMP%]{padding:2%}.books-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr}.book-item[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:3fr 1fr 1fr;gap:1rem;justify-content:flex-start;font:var(--tui-font-text-m);cursor:pointer}.book-image[_ngcontent-%COMP%]{width:80%}.book-author[_ngcontent-%COMP%]{color:var(--tui-base-06)}.buy-button[_ngcontent-%COMP%]{width:90%}@media screen and (max-width: 480px){.books-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.book-item[_ngcontent-%COMP%]{grid-template-rows:2fr 1fr 1fr;font:var(--tui-font-text-xs-2)}}"]}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[c.ez,l.Bz.forChild(B),f.Xj,v.y,y.fN,h.z,C.DC,_.Qf,x.cn,u.u5,b.EI,p.YL,m.Tg,k.j,u.UX]}),n})()}}]);